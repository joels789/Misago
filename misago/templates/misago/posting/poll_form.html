{% load i18n misago_forms %}

<p>{% translate "Fill out this form to add a poll to your thread." context "posting poll form" %}</p>

{% with field=form.question %}
  <div class="form-group{% if field.errors %} has-error{% endif %}">
    <label class="control-label" for="{{ field.id_for_label }}">
      {% translate "Question:" context "posting poll form" %}
    </label>
    <input type="text" class="form-control" maxlength="{{ field.field.max_length }}" id="{{ field.id_for_label }}" name="{{ field.html_name }}" value="{{ field.value|default:'' }}" />
    {% for error in field.errors %}
      <p class="help-block">{{ error }}</p>
    {% endfor %}
  </div>
{% endwith %}
{% with field=form.choices %}
  <div class="form-group{% if field.errors %} has-error{% endif %}">
    <label class="control-label" for="{{ field.id_for_label }}">
      {% translate "Choices:" context "posting poll form" %}
    </label>
    <textarea type="text" class="form-control" id="{{ field.id_for_label }}" name="{{ field.html_name }}" rows="4">{{ field.value|default:'' }}</textarea>
    {% for error in field.errors %}
      <p class="help-block">{{ error }}</p>
    {% endfor %}
    <p class="help-block">{% translate "Type each poll choice on a separate line." context "posting poll form" %}</p>
  </div>
{% endwith %}
{% with field=form.length %}
  <div class="form-group{% if field.errors %} has-error{% endif %}">
    <label class="control-label" for="{{ field.id_for_label }}">
      {% translate "Length:" context "posting poll form" %}
    </label>
    <input type="number" class="form-control" min="{{ field.field.min_value }}" max="{{ field.field.max_value }}" id="{{ field.id_for_label }}" name="{{ field.html_name }}" value="{{ field.value|default:'' }}" />
    {% for error in field.errors %}
      <p class="help-block">{{ error }}</p>
    {% endfor %}
  </div>
{% endwith %}
{% with field=form.max_choices %}
  <div class="form-group{% if field.errors %} has-error{% endif %}">
    <label class="control-label" for="{{ field.id_for_label }}">
      {% translate "Max choices:" context "posting poll form" %}
    </label>
    <input type="number" class="form-control" min="{{ field.field.min_value }}" id="{{ field.id_for_label }}" name="{{ field.html_name }}" value="{{ field.value|default:'1' }}" />
    {% for error in field.errors %}
      <p class="help-block">{{ error }}</p>
    {% endfor %}
  </div>
{% endwith %}
<div class="form-group">
  <label class="control-label">
    {% translate "Options:" context "posting poll form" %}
  </label>
  <div>
    {% with field=form.can_change_vote %}
      <span class="checkbox" style="display: inline-flex; align-items: center; margin-right: 12px;">
        <label>
          <input type="checkbox" name="{{ field.html_name }}" value="1"{% if field.value %} checked{% endif %}>
          {% translate "Allow vote change" context "posting poll form" %}
        </label>
      </span>
    {% endwith %}
    {% if form.is_public %}
      {% with field=form.is_public %}
        <span class="checkbox" style="display: inline-flex; align-items: center; margin-right: 12px;">
          <label>
            <input type="checkbox" name="{{ field.html_name }}" value="1"{% if field.value %} checked{% endif %}>
            {% translate "Make votes visible to others" context "posting poll form" %}
          </label>
        </span>
      {% endwith %}
    {% endif %}
  </div>
</div>